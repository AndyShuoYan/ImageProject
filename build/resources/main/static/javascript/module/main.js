// Generated by CoffeeScript 1.9.3

(function() {
  angular.module('main', ['common', 'ui', 'action.bar']).controller('MainController', [
    '$scope', '$http', '$location', 'AlertService', function($scope, $http, $location, AlertService) {
      AlertService.init($scope);
      $scope.info = {
        now: new Date()
      };
      $scope.choseMenu = function($index) {
        return $location.path($scope.menu[$index].path);
      };
      $scope.isActive = function(path) {
        return $location.path().indexOf(path) === 0;
      };
      $scope.changeSkin = function(index) {
        var styles;
        styles = ["css/app/skin_0.css", "css/app/skin_1.css", "css/app/skin_2.css"];
        $('link#skin').attr('href', styles[index]);
        return $http.post('web/main/updateSkin', {
          index: index
        });
      };
      $http.get('web/main/info').success(function(data) {
        return $scope.info = data;
      });
      return $http.get('web/main/menu').success(function(data) {
        return $scope.menu = data;
      });
    }
  ]);

}).call(this);

//# sourceMappingURL=main.js.map
